(this["webpackJsonpbeer-spin"]=this["webpackJsonpbeer-spin"]||[]).push([[0],{167:function(e){e.exports=JSON.parse('{"a":"1.0.1"}')},181:function(e,n,t){},182:function(e,n,t){},183:function(e,n,t){},313:function(e,n,t){"use strict";t.r(n);var i=t(7),r=t(0),a=t(30),c=t.n(a),o=(t(180),t(181),t(42)),s=t(38),l=(t(182),t(183),[{title:"\u041f\u0438\u0432\u043e 0,5\u043b.",key:"beer-05",chance:.9523,spinBefore:0,count:-1},{title:"\u0427\u0438\u043f\u0441\u044b",key:"lays",chance:.0333,spinBefore:0,count:-1},{title:"\u041f\u0438\u0432\u043e 10\u043b.",key:"beer-10",chance:.0142,spinBefore:0,count:-1},{title:"iPhone",key:"iphone",chance:2e-4,spinBefore:1e3,count:1}]),u=function(e){return localStorage.setItem("settings",JSON.stringify(e))},d=function(){var e=localStorage.getItem("settings");return e?JSON.parse(e):(localStorage.setItem("settings",JSON.stringify(l)),l)},b=function(){var e=localStorage.getItem("spinData");if(!e){var n=d();return e=p(n),localStorage.setItem("spinData",JSON.stringify(e)),e}return JSON.parse(e)},j=function(e){return localStorage.setItem("spinData",JSON.stringify(e))},p=function(e){return{count:0,prizes:e.reduce((function(e,n){return e[n.key]={count:0,wins:[]},e}),{})}},g=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.filter((function(e){return(-1===e.count||e.count>n.prizes[e.key].count)&&e.spinBefore<=n.count})),r=i.reduce((function(e,n){return e+n.chance}),0),a=Math.random()*r,c=0,o=i.find((function(e){return c+=e.chance,a<c?e:void 0}));return o?(n.prizes[o.key].count++,n.prizes[o.key].wins.push(n.count+1),n.count++,t&&j(n),o):null},h=t(44),f=t(115),O=t(39);function x(){var e=Object(s.a)(["\n  color: #ffd27b;\n  margin: 0;\n  font-size: 42px;\n  font-weight: 700;\n"]);return x=function(){return e},e}function m(){var e=Object(s.a)(["\n  color: #fff;\n"]);return m=function(){return e},e}function y(){var e=Object(s.a)(["\n  z-index: 10;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  padding: 40px;\n  border-radius: 40px;\n  padding: 60px;\n  border: 10px solid #ffd27b;\n  background: #000000;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return y=function(){return e},e}function v(){var e=Object(s.a)(["\n  opacity: 0.7;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: 1;\n  /* background: url(bg/daisy-stock-poster.jpg) no-repeat #94a233; */\n  background-size: cover;\n  > video {\n    position: absolute;\n    top: 0;\n    left: 0;\n    min-width: 100%;\n    min-height: 100%;\n    width: auto;\n    height: auto;\n  }\n\n  > video {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]);return v=function(){return e},e}var k=O.a.div(v()),w=O.a.div(y()),S=O.a.h1(m()),C=O.a.p(x()),I=function(e){var n=e.prize,t=e.onClick,r=Object(f.a)(e,["prize","onClick"]);return Object(i.jsxs)("div",Object(h.a)(Object(h.a)({},r),{},{children:[Object(i.jsx)(k,{children:Object(i.jsx)("video",{id:"video",width:"100%",height:"auto",autoPlay:"autoplay",loop:"loop",preload:"auto",children:Object(i.jsx)("source",{src:"back.mp4",type:"video/mp4"})})}),n&&Object(i.jsxs)(w,{onClick:t,children:[Object(i.jsx)("img",{alt:n.text,src:n.image}),Object(i.jsx)(S,{children:"\u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438:"}),Object(i.jsx)(C,{children:n.text})]})]}))};function z(){var e=Object(s.a)(['\n  cursor: pointer;\n  user-select: none;\n  display: flex;\n  align-items: center;\n  font-family: "DigitalICG";\n  text-transform: uppercase;\n  justify-content: center;\n  color: red;\n  outline: none;\n  border: none;\n  width: calc(100% - 24px);\n  height: calc(100% - 24px);\n  border-radius: 50%;\n  margin: 12px;\n  font-size: 48px;\n  display: flex;\n  position: relative;\n  background: ',";\n\n  :active {\n    background: radial-gradient(\n        70% 70% at 50% 50%,\n        rgba(153, 153, 153, 0.5) 0%,\n        rgba(255, 255, 255, 0) 100%\n      ),\n      linear-gradient(0deg, #000000, #000000);\n  }\n"]);return z=function(){return e},e}function A(){var e=Object(s.a)(["\n  cursor: pointer;\n  display: flex;\n  user-select: none;\n  background: radial-gradient(\n    50% 50% at 50% 50%,\n    #6b6b6b 0%,\n    #dbdbdb 90.62%,\n    #7d7d7d 100%\n  );\n  width: 180px;\n  height: 180px;\n  border-radius: 50%;\n"]);return A=function(){return e},e}var B=O.a.div(A()),F=O.a.button(z(),(function(e){return e.active?"radial-gradient( 50% 50% at 50% 50%,rgb(222 90 90 / 88%) 0%,rgb(230 0 0 / 28%) 100%),linear-gradient(0deg,#000000,#000000)":"radial-gradient( 50% 50% at 50% 50%, rgba(153, 153, 153, 0.5) 0%, rgba(255, 255, 255, 0) 100%), linear-gradient(0deg, #000000, #000000)"})),P=function(e){return Object(i.jsx)(B,{onClick:e.onClick,children:Object(i.jsx)(F,{active:e.active,children:e.children})})};function W(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n"]);return W=function(){return e},e}function J(){var e=Object(s.a)(['\n  /* background: green; */\n  position: absolute;\n  left: 50%;\n  bottom: 100%;\n  transform: translateX(-50%);\n  width: 104px;\n  height: 80px;\n  background: url("/pointer.png") no-repeat;\n']);return J=function(){return e},e}function N(){var e=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  max-height: 144px;\n  flex: 1 1 0px;\n"]);return N=function(){return e},e}function T(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100px;\n  display: block;\n  background: linear-gradient(\n    270deg,\n    #000000 0%,\n    rgba(69, 69, 69, 0.6) 25%,\n    rgba(73, 73, 73, 0.63) 75%,\n    #000000 100%\n  );\n"]);return T=function(){return e},e}function D(){var e=Object(s.a)(["\n  width: 100%;\n  height: 12px;\n  display: block;\n  box-sizing: content-box;\n  background: linear-gradient(180deg, #b58304 0%, #ffd27b 100%);\n  :first-child {\n    border-top: 10px solid #1d1d1d;\n  }\n  :last-child {\n    border-bottom: 10px solid #1d1d1d;\n  }\n"]);return D=function(){return e},e}function E(){var e=Object(s.a)(["\n  min-height: 40vh;\n  flex-grow: 1;\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return E=function(){return e},e}var M=O.a.div(E()),R=O.a.div(D()),V=O.a.div(T()),L=O.a.div(N()),X=O.a.div(J()),G=O.a.div(W()),q=function(e){var n=e.onClick,t=e.spinned;return Object(i.jsxs)(M,{children:[Object(i.jsx)(X,{id:"triangle"}),Object(i.jsxs)(L,{children:[Object(i.jsx)(R,{}),Object(i.jsx)(V,{}),Object(i.jsx)(R,{})]}),Object(i.jsx)(G,{children:Object(i.jsx)(P,{active:t,onClick:n,children:"Start"})})]})};function H(){var e=Object(s.a)(["\n  width: 60vh;\n  max-width: 100vw;\n  max-height: 100vw;\n  flex-shrink: 0;\n  padding: 20px;\n  box-sizing: border-box;\n"]);return H=function(){return e},e}var K=O.a.canvas(H()),Q=function(e){var n=e.segments,t=e.spinSettings;return document.addEventListener("DOMContentLoaded",(function(){window.theWheel=new window.Winwheel({numSegments:8,innerRadius:75,drawMode:"image",wheelImage:"wheel.png",segments:n,pointerAngle:180,animation:{type:"spinToStop",duration:t.time,easing:"Power2.easeInOut",spins:t.count}});var e=new Image;e.onload=function(){window.theWheel.wheelImage=e,window.theWheel.draw()},e.src="spin.png"})),Object(i.jsxs)(K,{id:"canvas",width:"612",height:"612",children:["Canvas not supported, use another browser."," "]})},U=t(61),Y=t(317),Z=t(322),$=t(86),_=t(55),ee=t(321),ne=t(319),te=t(72),ie=t(320),re=t(113),ae=t(60),ce=t(125),oe=t(318),se=t(316),le=[{title:"\u041f\u0440\u0438\u0437",dataIndex:"title",key:"title"},{title:"\u0412\u044b\u043f\u0430\u043b\u043e",dataIndex:"count",key:"count"},{title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u043f\u0430\u0434\u0435\u043d\u0438\u044f",dataIndex:"percent",key:"percent"},{title:"\u041e\u0441\u0442\u0430\u043b\u043ec\u044c",dataIndex:"left",key:"left"}],ue=function(e){var n=e.stat,t=e.settings,r=n?t.map((function(e){var t=n.prizes[e.key].count;return{key:e.key,title:e.title,count:t,percent:100*t/n.count,left:-1===e.count?"-":e.count-t,wins:n.prizes[e.key].wins}})):[];return Object(i.jsx)(se.a,{pagination:{hideOnSinglePage:!0},dataSource:r,columns:le,expandable:{expandedRowRender:function(e){return Object(i.jsx)("p",{style:{margin:0},children:e.wins.join(",")})},rowExpandable:function(e){return"Not Expandable"!==e.name}}})},de=function(e){var n=e.settings,t=Object(f.a)(e,["settings"]),a=Object(r.useState)(1e3),c=Object(o.a)(a,2),s=c[0],l=c[1],u=Object(r.useState)(null),d=Object(o.a)(u,2),b=d[0],j=d[1];return Object(i.jsxs)(ie.a,Object(h.a)(Object(h.a)({placement:"bottom",height:"100%",title:"\u0421\u0438\u043c\u0443\u043b\u044f\u0446\u0438\u044f"},t),{},{children:[Object(i.jsx)($.a,{gutter:24,children:Object(i.jsx)(_.a,{span:24,children:Object(i.jsx)(Y.a,{layout:"vertical",children:Object(i.jsx)(Y.a.Item,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0439:",children:Object(i.jsx)(ee.a,{style:{width:"100%"},value:s,onChange:l,step:1e3,min:1})})})})}),Object(i.jsx)($.a,{gutter:24,children:Object(i.jsx)(_.a,{span:24,children:Object(i.jsx)(ae.a,{onClick:function(){var e=p(n);new Array(s).fill(1).forEach((function(t,i){g(n,e,!1)})),j(e)},block:!0,children:"\u0421\u0438\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})}),Object(i.jsx)($.a,{gutter:24,children:Object(i.jsx)(_.a,{span:24,children:Object(i.jsx)(ue,{stat:b,settings:n})})})]}))},be=function(e){var n=e.settings,t=n.reduce((function(e,n){var t;return Object.assign({},e,(t={},Object(U.a)(t,n.key+"-chance",n.chance),Object(U.a)(t,n.key+"-spin-before",n.spinBefore),Object(U.a)(t,n.key+"-count",n.count),t))}),{});return Object(i.jsx)(Y.a,Object(h.a)(Object(h.a)({layout:"vertical",initialValues:t},e),{},{children:n.map((function(e){return Object(i.jsx)(Z.a,{style:{marginBottom:"20px"},type:"inner",title:e.title,children:Object(i.jsxs)($.a,{gutter:12,children:[Object(i.jsx)(_.a,{span:8,children:Object(i.jsx)(Y.a.Item,{label:"\u0414\u043e\u043b\u044f \u0432\u044b\u043f\u0430\u0434\u0435\u043d\u0438\u044f:",name:e.key+"-chance",children:Object(i.jsx)(ee.a,{step:.001,min:0})})}),Object(i.jsx)(_.a,{span:8,children:Object(i.jsx)(Y.a.Item,{label:"\u041f\u043e\u0441\u043b\u0435 X \u043f\u043e\u043f\u044b\u0442\u043e\u043a:",name:e.key+"-spin-before",children:Object(i.jsx)(ee.a,{step:100,min:0})})}),Object(i.jsx)(_.a,{span:8,children:Object(i.jsx)(Y.a.Item,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0438\u0437\u043e\u0432:",name:e.key+"-count",children:Object(i.jsx)(ee.a,{min:-1})})})]})},e.key)}))}))},je=function(e){var n=d(),t=Object(r.useState)(n),a=Object(o.a)(t,2),c=a[0],s=a[1],g=Object(r.useState)(!1),f=Object(o.a)(g,2),O=f[0],x=f[1],m=Y.a.useForm(),y=Object(o.a)(m,1)[0],v=Y.a.useForm(),k=Object(o.a)(v,1)[0],w=Object(r.useState)(b()),S=Object(o.a)(w,2),C=S[0],I=S[1],z=Object(r.useState)(!1),A=Object(o.a)(z,2),B=A[0],F=A[1],P=function(){s(l),u(l);var e=l.reduce((function(e,n){var t;return Object.assign({},e,(t={},Object(U.a)(t,n.key+"-chance",n.chance),Object(U.a)(t,n.key+"-spin-before",n.spinBefore),Object(U.a)(t,n.key+"-count",n.count),t))}),{});y.setFieldsValue(e),ne.b.success("\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u0430")},W=function(){var e=p(c);j(e),I(e),ne.b.success("\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u0430")};return Object(i.jsx)(ie.a,Object(h.a)(Object(h.a)({},e),{},{onClose:function(){F(!1),e.onClose()},height:"100%",title:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",bodyStyle:{paddingTop:"0px"},placement:"bottom",footer:B&&Object(i.jsxs)("div",{style:{textAlign:"right"},children:[Object(i.jsx)(re.a,{overlay:function(){return Object(i.jsxs)(te.a,{children:[Object(i.jsx)(te.a.Item,{onClick:W,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0438\u0442\u0438\u0441\u0442\u0438\u043a\u0443"}),Object(i.jsx)(te.a.Item,{onClick:P,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e"})]})},children:Object(i.jsx)(ae.a,{danger:!0,style:{float:"left"},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})}),Object(i.jsx)(ae.a,{onClick:function(){var e=y.getFieldsValue(),t=n.map((function(n){return Object(h.a)(Object(h.a)({},n),{},{chance:e[n.key+"-chance"]||.2,spinBefore:e[n.key+"-spin-before"]||0,count:e[n.key+"-count"]||0})}));s(t),x(!0)},style:{marginRight:8},children:"\u0421\u0438\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(i.jsx)(ae.a,{onClick:function(){var e=y.getFieldsValue(),t=n.map((function(n){return Object(h.a)(Object(h.a)({},n),{},{chance:e[n.key+"-chance"]||.2,spinBefore:e[n.key+"-spin-before"]||0,count:e[n.key+"-count"]||0})}));s(t),u(t),ne.b.success("\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430")},type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),children:B?Object(i.jsxs)(ce.a,{children:[Object(i.jsxs)(ce.a.TabPane,{tab:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",children:[Object(i.jsx)(be,{settings:c,form:y}),Object(i.jsx)(de,{visible:O,settings:c,onClose:function(){return x(!1)}})]},"settings"),Object(i.jsxs)(ce.a.TabPane,{tab:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",children:[Object(i.jsxs)("h1",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u043a\u0440\u0443\u0447\u0438\u0432\u0430\u043d\u0438\u0439: ",C.count]}),Object(i.jsx)(ue,{settings:c,stat:C})]},"stat")]}):Object(i.jsxs)(Y.a,{layout:"vertical",form:k,children:[Object(i.jsx)($.a,{style:{marginTop:"20px"},gutter:24,children:Object(i.jsx)(_.a,{span:24,children:Object(i.jsx)(Y.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",children:Object(i.jsx)(oe.a,{type:"password"})})})}),Object(i.jsx)($.a,{gutter:24,children:Object(i.jsx)(_.a,{span:24,children:Object(i.jsx)(ae.a,{block:!0,onClick:function(){"superPassword"===k.getFieldValue("password")?(k.resetFields(),F(!0)):ne.b.error("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")},type:"primary",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})}))},pe=t(167);function ge(){var e=Object(s.a)(["\n  position: fixed;\n  top: 10px;\n  right: 10px;\n  color: red;\n"]);return ge=function(){return e},e}var he=O.a.div(ge()),fe={time:7,count:5},Oe=[{image:"/prizes/lays.png",text:"\u0427\u0438\u043f\u0441\u044b",key:"lays"},{image:"/prizes/beer.png",text:"0,5\u043b. \u041f\u0438\u0432\u0430",key:"beer-05"},{image:"/prizes/beer10.png",text:"10\u043b. \u041f\u0438\u0432\u0430",key:"beer-10"},{image:"/prizes/beer.png",text:"0,5\u043b. \u041f\u0438\u0432\u0430",key:"beer-05"},{image:"/prizes/lays.png",text:"\u0427\u0438\u043f\u0441\u044b",key:"lays"},{image:"/prizes/beer.png",text:"0,5\u043b. \u041f\u0438\u0432\u0430",key:"beer-05"},{image:"/prizes/iphone.png",text:"iPhone 12",key:"iphone"},{image:"/prizes/beer.png",text:"0,5\u043b. \u041f\u0438\u0432\u0430",key:"beer-05"}],xe={settings:0,version:0};var me=function(){var e=Object(r.useState)(!1),n=Object(o.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(null),s=Object(o.a)(c,2),l=s[0],u=s[1],j=Object(r.useState)(!1),p=Object(o.a)(j,2),h=p[0],f=p[1],O=Object(r.useState)(!1),x=Object(o.a)(O,2),m=x[0],y=x[1],v=Object(r.useState)(Object.assign({},xe)),k=Object(o.a)(v,2),w=k[0],S=k[1],C=function(e){u(e),e&&function(e){var n;switch(e){case"iphone":n=new Audio("win-iphone.mp3");break;case"beer-10":n=new Audio("win-beer-10.mp3");break;default:n=new Audio("win.mp3")}n.play()}(e.key)},z=function(){return f(!0)},A=function(){new Audio("start.mp3").play(),a(!0);var e=function(){var e=d(),n=b(),t=g(e,n),i=t?Oe.reduce((function(e,n,i){return n.key===t.key&&e.push(i),e}),[]):0;return i[Math.floor(Math.random()*i.length)]}(),n=window.theWheel.getRandomForSegment(e+1);document.getElementById("video").play(),window.theWheel.animation.stopAngle=n,new Audio("spin.mp3").play(),window.theWheel.startAnimation(),setTimeout((function(){window.theWheel.rotationAngle=window.theWheel.rotationAngle%360,window.theWheel.stopAnimation(),a(!1),C(Oe[e])}),1e3*fe.time)};return Object(i.jsxs)("div",{className:"App",onClick:function(e){"triangle"===e.target.id?S(Object.assign(w,{settings:w.settings+1})):"canvas"===e.target.id?S(Object.assign(w,{version:w.version+1})):S(Object.assign({},xe)),console.log(xe),w.settings>=5?(z(),S(Object.assign({},xe))):w.version>=5&&(y(!0),S(Object.assign({},xe)),setTimeout((function(){return y(!1)}),3e3))},children:[m&&Object(i.jsxs)(he,{children:["v",pe.a]}),Object(i.jsx)(Q,{segments:Oe,spinSettings:fe}),Object(i.jsx)(q,{spinned:t,onClick:function(){return!t&&A()}}),Object(i.jsx)(I,{onClick:function(){return u(null)},prize:l,style:{display:l?"block":"none"}}),h&&Object(i.jsx)(je,{visible:!0,onClose:function(){return f(!1)}})]})},ye=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,323)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),i(e),r(e),a(e),c(e)}))};c.a.render(Object(i.jsx)(me,{}),document.getElementById("root")),ye()}},[[313,1,2]]]);
//# sourceMappingURL=main.cfd6315d.chunk.js.map